services:
  api_gateway:
    image: ${API_GATEWAY_IMAGE}:${API_GATEWAY_VERSION}
    build:
      context: ./${API_GATEWAY_HOST}
      args:
        SERVICE_NAME: ${API_GATEWAY_SERVICE_NAME}
        SERVICE_VERSION: ${API_GATEWAY_SERVICE_VERSION}
        KRAKEND_CE_VERSION: ${KRAKEND_CE_VERSION}

  pipeline_backend:
    image: ${PIPELINE_BACKEND_IMAGE}:${PIPELINE_BACKEND_VERSION}
    build:
      context: ./${PIPELINE_BACKEND_HOST}
      args:
        SERVICE_NAME: ${PIPELINE_BACKEND_SERVICE_NAME}
        SERVICE_VERSION: ${PIPELINE_BACKEND_SERVICE_VERSION}

  artifact_backend:
    image: ${ARTIFACT_BACKEND_IMAGE}:${ARTIFACT_BACKEND_VERSION}
    build:
      context: ./${ARTIFACT_BACKEND_HOST}
      args:
        SERVICE_NAME: ${ARTIFACT_BACKEND_SERVICE_NAME}
        SERVICE_VERSION: ${ARTIFACT_BACKEND_SERVICE_VERSION}

  model_backend:
    image: ${MODEL_BACKEND_IMAGE}:${MODEL_BACKEND_VERSION}
    build:
      context: ./${MODEL_BACKEND_HOST}
      args:
        SERVICE_NAME: ${MODEL_BACKEND_SERVICE_NAME}
        SERVICE_VERSION: ${MODEL_BACKEND_SERVICE_VERSION}

  mgmt_backend:
    image: ${MGMT_BACKEND_IMAGE}:${MGMT_BACKEND_VERSION}
    build:
      context: ./${MGMT_BACKEND_HOST}
      args:
        SERVICE_NAME: ${MGMT_BACKEND_SERVICE_NAME}
        SERVICE_VERSION: ${MGMT_BACKEND_SERVICE_VERSION}

  console:
    image: ${CONSOLE_IMAGE}:${CONSOLE_VERSION}
    build:
      context: ./${CONSOLE_HOST}
