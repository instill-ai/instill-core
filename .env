# Docker Compose project name
COMPOSE_PROJECT_NAME=instill-core

# Docker network name
COMPOSE_NETWORK_NAME=instill-network

# Docker volume names
COMPOSE_VOLUME_ELASTICSEARCH_DATA=elasticsearch-data
COMPOSE_VOLUME_MINIO_DATA=minio-data
COMPOSE_VOLUME_TEMPO_DATA=tempo-data

# System-wise config path
SYSTEM_CONFIG_PATH=~/.config/instill

# Flag to enable usage collection
USAGE_ENABLED=true

# Flag to enable observability stack
OBSERVE_ENABLED=false

# Flag to enable model-backend creating pre-deploy models
INITMODEL_ENABLED=false

# Model inventory JSON file path to initialize model-backend with pre-deploy models
INITMODEL_INVENTORY=

# Instill Core instance host. Set it with a valid network address (IP or URL) for the console.
INSTILL_CORE_HOST=localhost

# Container build
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# Alpine version for the compose Docker image (docker-in-docker operation )
ALPINE_VERSION=3.21

# Golang version for GitHub Actions workflow env
GOLANG_VERSION=1.24.4

# Krakend CE version for integration tests
KRAKEND_CE_VERSION=2.10.1

# k6 version for integration tests
K6_VERSION=1.0.0
XK6_VERSION=0.19.3
XK6_SQL_VERSION=1.0.4
XK6_SQL_POSTGRES_VERSION=0.1.0

# api-gateway
API_GATEWAY_IMAGE=instill/api-gateway
API_GATEWAY_VERSION=0.36.1
API_GATEWAY_HOST=api-gateway
API_GATEWAY_PORT=8080
API_GATEWAY_STATS_PORT=8070
API_GATEWAY_METRICS_PORT=8071
# exposed port
API_GATEWAY_HOST_PORT=8080
API_GATEWAY_STATS_HOST_PORT=8070
API_GATEWAY_METRICS_HOST_PORT=8071

# pipeline-backend
PIPELINE_BACKEND_IMAGE=instill/pipeline-backend
PIPELINE_BACKEND_VERSION=8b212fe
PIPELINE_BACKEND_HOST=pipeline-backend
PIPELINE_BACKEND_PRIVATEPORT=3081
PIPELINE_BACKEND_PUBLICPORT=8081
# exposed port
PIPELINE_BACKEND_HOST_PRIVATEPORT=3081
PIPELINE_BACKEND_HOST_PUBLICPORT=8081

# artifact-backend
ARTIFACT_BACKEND_IMAGE=instill/artifact-backend
ARTIFACT_BACKEND_VERSION=3b02e30
ARTIFACT_BACKEND_HOST=artifact-backend
ARTIFACT_BACKEND_PRIVATEPORT=3082
ARTIFACT_BACKEND_PUBLICPORT=8082
ARTIFACT_MINIO_WEBHOOK=/v1alpha/minio-audit
# exposed port
ARTIFACT_BACKEND_HOST_PRIVATEPORT=3082
ARTIFACT_BACKEND_HOST_PUBLICPORT=8082

# model-backend
MODEL_BACKEND_IMAGE=instill/model-backend
MODEL_BACKEND_VERSION=0.38.1
MODEL_BACKEND_HOST=model-backend
MODEL_BACKEND_PRIVATEPORT=3083
MODEL_BACKEND_PUBLICPORT=8083
# exposed port
MODEL_BACKEND_HOST_PRIVATEPORT=3083
MODEL_BACKEND_HOST_PUBLICPORT=8083

# mgmt-backend
MGMT_BACKEND_IMAGE=instill/mgmt-backend
MGMT_BACKEND_VERSION=0.25.1
MGMT_BACKEND_HOST=mgmt-backend
MGMT_BACKEND_PRIVATEPORT=3084
MGMT_BACKEND_PUBLICPORT=8084
# exposed port
MGMT_BACKEND_HOST_PRIVATEPORT=3084
MGMT_BACKEND_HOST_PUBLICPORT=8084

# console
CONSOLE_IMAGE=instill/console
CONSOLE_VERSION=0.68.3
CONSOLE_HOST=console
CONSOLE_PORT=3000
# exposed port
CONSOLE_HOST_PORT=3000

# Ray
RAY_IMAGE=instill/ray
RAY_VERSION=0.6.6
RAY_OPERATOR_HELM_CHART_VERSION=1.4.2
RAY_HOST=ray
RAY_PORT_CLIENT=10001
RAY_PORT_DASHBOARD=8265
RAY_PORT_GCS=6379
RAY_PORT_SERVE=8000
RAY_PORT_GRPC=9000
RAY_PORT_METRICS=8080
# exposed port
RAY_DASHBOARD_HOST_PORT=8265

# PostgreSQL
POSTGRESQL_IMAGE=postgres
POSTGRESQL_VERSION=14.1
POSTGRESQL_HOST=pg-sql
POSTGRESQL_PORT=5432
# exposed port
POSTGRESQL_HOST_PORT=5432

# Elasticsearch
ELASTICSEARCH_IMAGE=elasticsearch
ELASTICSEARCH_VERSION=8.5.1
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
# exposed port
ELASTICSEARCH_HOST_PORT=9200

# Temporal
TEMPORAL_IMAGE=temporalio/auto-setup
TEMPORAL_VERSION=1.28.0
TEMPORAL_HELM_CHART_VERSION=0.64.0
TEMPORAL_HOST=temporal
TEMPORAL_PORT=7233
TEMPORAL_NAMESPACE=instill-core
# exposed port
TEMPORAL_HOST_PORT=7233

TEMPORAL_UI_IMAGE=temporalio/ui
TEMPORAL_UI_VERSION=2.39.0
TEMPORAL_UI_HOST=temporal-ui
TEMPORAL_UI_PORT=8080
# exposed port
TEMPORAL_UI_HOST_PORT=8088

# Redis
REDIS_IMAGE=redis
REDIS_VERSION=8.0-M04
REDIS_HOST=redis
REDIS_PORT=6379
# exposed port
REDIS_HOST_PORT=6379

# InfluxDB
INFLUXDB_IMAGE=influxdb
INFLUXDB_VERSION=2.7
INFLUXDB_HOST=influxdb
INFLUXDB_PORT=8086
# exposed port
INFLUXDB_HOST_PORT=8086

# OpenFGA
OPENFGA_IMAGE=openfga/openfga
OPENFGA_VERSION=v1.9.0
OPENFGA_HOST=openfga
OPENFGA_PORT=8081
# exposed port
OPENFGA_HOST_PORT=18081

# Registry
REGISTRY_IMAGE=registry
REGISTRY_VERSION=2.8.3
REGISTRY_HOST=registry
REGISTRY_PORT=5000
# exposed port
REGISTRY_HOST_PORT=5001

# Milvus
MILVUS_IMAGE=milvusdb/milvus
MILVUS_VERSION=v2.4.1
MILVUS_OPERATOR_HELM_CHART_VERSION=1.2.8
MILVUS_HOST=milvus
MILVUS_DATA_DIR=/var/lib/milvus/etcd
MILVUS_PORT=19530
MILVUS_METRIC_PORT=9091
# exposed port
MILVUS_HOST_PORT=19530

# Minio
MINIO_IMAGE=quay.io/minio/minio
MINIO_VERSION=RELEASE.2025-07-23T15-54-02Z
MINIO_OPERATOR_HELM_CHART_VERSION=7.1.1
MINIO_HOST=minio
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
# exposed port
MINIO_HOST_PORT=19000
MINIO_CONSOLE_HOST_PORT=19001

########################
# Observability Stack
########################

# OpenTelemetry Collector
OTEL_COLLECTOR_IMAGE=otel/opentelemetry-collector-contrib
OTEL_COLLECTOR_VERSION=0.129.0
OTEL_COLLECTOR_HOST=otel-collector
OTEL_COLLECTOR_PORT=4317
OTEL_COLLECTOR_PROMETHEUS_PORT=9001

# Tempo
TEMPO_IMAGE=grafana/tempo
TEMPO_VERSION=2.7.2
TEMPO_HELM_CHART_VERSION=1.46.1
TEMPO_HOST=tempo
TEMPO_HTTP_PORT=3200
TEMPO_GRPC_PORT=9095
TEMPO_OTLP_GRPC_PORT=4317
TEMPO_OTLP_HTTP_PORT=4318

# Loki
LOKI_IMAGE=grafana/loki
LOKI_VERSION=3.5
LOKI_HELM_CHART_VERSION=0.80.5
LOKI_HOST=loki
LOKI_PORT=3100

# Prometheus
PROMETHEUS_IMAGE=prom/prometheus
PROMETHEUS_VERSION=3.2.1
PROMETHEUS_HELM_CHART_VERSION=75.15.1
PROMETHEUS_HOST=prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_HOST_PORT=9090

# Grafana
GRAFANA_IMAGE=grafana/grafana
GRAFANA_VERSION=12.1.0
GRAFANA_HELM_CHART_VERSION=9.3.0
GRAFANA_HOST=grafana
GRAFANA_PORT=3000
# For Ray dashboard embedding Grafana dashboard
GRAFANA_IFRAME_HOST=localhost
# For Ray dashboard embedding Grafana dashboard
GRAFANA_HOST_PORT=3001
